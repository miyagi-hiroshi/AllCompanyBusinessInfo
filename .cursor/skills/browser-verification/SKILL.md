---
name: browser-verification
description: ブラウザでの動作確認手順。ブラウザ確認、画面確認、動作テストを依頼されたときに使用
---

# ブラウザ確認手順

## 🎯 目的

ユーザーにブラウザでの確認を依頼された時は、以下の手順で自律的にサーバー起動からブラウザ確認まで実行する。

## 📋 自律実行手順

### 1. サーバー状態確認と起動

```bash
# 既存のNode.jsプロセスを確認
tasklist | findstr node

# ポート5000の使用状況を確認
netstat -ano | findstr :5000
```

**サーバーが起動していない場合のみ**：

```bash
# 開発モードでサーバーを起動
npm run dev

# バックグラウンドで実行
# 起動状況を確認（8秒待機後）
Start-Sleep -Seconds 8; netstat -ano | findstr :5000 | findstr LISTENING
```

### 2. ブラウザでの確認

**ブラウザツールが利用可能な場合**：

```javascript
// Playwrightブラウザツールを使用
mcp_cursor -
  playwright_browser_navigate({
    url: "http://localhost:5000/",
  });
```

**ブラウザツールが利用できない場合**：

- ユーザーにブラウザツールの有効化を依頼する
- 手動でブラウザを開いて確認を依頼する

## ✅ 確認項目

### サーバー起動確認

- [ ] ポート5000でリスニング状態
- [ ] エラーログなし
- [ ] 開発モードで動作（ホットリロード有効）

### ブラウザ確認

- [ ] ページが正常に読み込まれる
- [ ] タイトルが「受発注見込み入力システム」と表示
- [ ] ログインページが表示される
- [ ] デモログイン機能が利用可能
- [ ] エラーメッセージなし

## 🚨 トラブルシューティング

### ブラウザ確認中にエラーが発生した場合

1. **ターミナルでサーバーエラーを確認**
   - サーバーのログを確認
   - エラーメッセージがないかチェック
   - ポート5000で正常にリスニングしているか確認

2. **ターミナルを確認できない場合**
   - ユーザーにサーバーエラーの確認を依頼
   - ターミナルに表示されているエラーメッセージを報告してもらう

### ポート競合エラー

```bash
# すべてのNode.jsプロセスを停止
taskkill /F /IM node.exe

# 少し待ってから再起動
npm run dev
```

### 404エラー

- サーバーの起動順序を確認
- Viteの設定を確認
- 開発モードで正常に起動しているか確認

### ブラウザツールが利用できない場合

- **ユーザーにブラウザツールの有効化を依頼**
- 手動でブラウザを開いて確認を依頼
- 代替手段としてHTTPリクエストで確認：

```powershell
# PowerShellでHTTPリクエストを送信
$response = Invoke-WebRequest -Uri "http://localhost:5000/" -UseBasicParsing
$response.StatusCode
```

## 📝 実行完了時の報告

以下の形式で実行結果を報告する：

```
## ✅ 完了！サーバー起動からブラウザ確認まで成功

### 🎯 実行結果
**サーバー起動**: ✅ 成功
- ポート5000で正常に起動
- 開発モードで動作中（ホットリロード有効）

**ブラウザアクセス**: ✅ 成功
- URL: http://localhost:5000/
- ページタイトル: 「受発注見込み入力システム」
- ログインページが正常に表示

### 📋 確認できた機能
1. ログインフォーム
2. デモログイン機能
3. システム情報

アプリケーションは完全に動作しており、すべての機能が利用可能な状態です！
```

## 🔄 手順の特徴

- **自律実行**: ユーザーの指示なしに完全自動実行
- **ホットリロード対応**: 既存サーバーがあれば起動をスキップ
- **開発モード**: 開発効率を重視した設定
- **エラーハンドリング**: 各ステップでエラーを検出・対応
- **ユーザー協力**: ブラウザツール利用不可時の代替手段
- **確認項目**: 明確なチェックリストで品質保証
- **報告形式**: 統一された形式で結果を報告
